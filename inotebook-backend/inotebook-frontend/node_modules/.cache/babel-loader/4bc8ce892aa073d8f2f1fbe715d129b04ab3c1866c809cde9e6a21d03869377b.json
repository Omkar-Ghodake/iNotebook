{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from'../context/notes/noteContext';import Noteitem from'./Noteitem';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Notes=props=>{const context=useContext(noteContext);const{notes,getNotes,editNote}=context;let navigate=useNavigate();useEffect(()=>{if(localStorage.getItem('token')){getNotes();}else{navigate('/login');}},[]);const ref=useRef(null);const refClose=useRef(null);const[note,setNote]=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"});const updateNote=currentNote=>{ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};const handleUpdateClick=e=>{e.preventDefault();if(note.etag===''){note.etag='General';}if(note.etitle===''){note.etitle='Untitled';}if(note.edescription===''){note.edescription='No Description';}editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();props.showAlert('Note Updated.','info');};const onChange=e=>{setNote({...note,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:(note.etitle.length<1||note.etitle.replaceAll(/\\s/g,'')==='')&&(note.edescription.length<1||note.edescription.replaceAll(/\\s/g,'')===''),type:\"button\",className:\"btn btn-primary\",onClick:handleUpdateClick,children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{height:'100%',overflow:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&'No notes to display.'}),notes.map(element=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-6\",children:/*#__PURE__*/_jsx(Noteitem,{showAlert:props.showAlert,title:element.title,description:element.description,tag:element.tag,date:element.date,_id:element._id,updateNote:updateNote,note:element})},element._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","Noteitem","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","notes","getNotes","editNote","navigate","localStorage","getItem","ref","refClose","note","setNote","id","etitle","edescription","etag","updateNote","currentNote","current","click","_id","title","description","tag","handleUpdateClick","e","preventDefault","showAlert","onChange","target","name","value","children","type","className","tabIndex","htmlFor","disabled","length","replaceAll","onClick","style","height","overflow","map","element","date"],"sources":["/home/omkar/Desktop/Techs/MERN/Full Stack/yourNotebook/yourNotebook/inotebook-frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport noteContext from '../context/notes/noteContext';\r\nimport Noteitem from './Noteitem';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Notes = (props) => {\r\n\tconst context = useContext(noteContext);\r\n\tconst { notes, getNotes, editNote } = context;\r\n\r\n\tlet navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (localStorage.getItem('token')){\r\n\t\t\tgetNotes();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnavigate('/login');\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst ref = useRef(null);\r\n\tconst refClose = useRef(null);\r\n\tconst [note, setNote] = useState({ id: \"\", etitle: \"\", edescription: \"\", etag: \"\" })\r\n\r\n\tconst updateNote = (currentNote) => {\r\n\t\tref.current.click();\r\n\t\tsetNote({ id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag });\r\n\t}\r\n\t\r\n\t\r\n\tconst handleUpdateClick = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (note.etag === '') { note.etag = 'General' }\r\n\t\tif (note.etitle === '') { note.etitle = 'Untitled' }\r\n\t\tif (note.edescription === '') { note.edescription = 'No Description' }\r\n\t\teditNote(note.id, note.etitle, note.edescription, note.etag)\r\n\t\trefClose.current.click();\r\n\t\tprops.showAlert('Note Updated.', 'info');\r\n\t}\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetNote({ ...note, [e.target.name]: e.target.value });\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n\t\t\t\tLaunch modal\r\n\t\t\t</button>\r\n\r\n\t\t\t<div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n\t\t\t\t<div className=\"modal-dialog\">\r\n\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"etitle\" name='etitle' value={note.etitle} onChange={onChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"edescription\" name='edescription' value={note.edescription} onChange={onChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"tag\" className=\"form-label\">Tag</label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"etag\" name='etag' value={note.etag} onChange={onChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n\t\t\t\t\t\t\t<button disabled={(note.etitle.length < 1 || note.etitle.replaceAll(/\\s/g,'') === '') && (note.edescription.length < 1 || note.edescription.replaceAll(/\\s/g,'') === '')} type=\"button\" className=\"btn btn-primary\" onClick={handleUpdateClick}>Update Note</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\" style={{ height: '100%', overflow: 'auto' }}>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{(notes.length === 0) && 'No notes to display.'}\r\n\t\t\t\t</div>\r\n\t\t\t\t{notes.map((element) => {\r\n\t\t\t\t\treturn <div className=\"col-lg-4 col-md-6\" key={element._id}>\r\n\t\t\t\t\t\t<Noteitem showAlert={props.showAlert} title={element.title} description={element.description} tag={element.tag} date={element.date} _id={element._id} updateNote={updateNote} note={element} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</>\r\n\r\n\t)\r\n}\r\n\r\nexport default Notes"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}